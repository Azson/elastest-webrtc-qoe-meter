function ElasTestRemoteControl(){this.recordRTC=null;this.recordingData}ElasTestRemoteControl.prototype.sayHello=function(){console.info("Hello from ElasTest Remote Control");return"Hello from ElasTest Remote Control"};
ElasTestRemoteControl.prototype.startRecording=function(a,b,c){var f="video/webm";"mp4"===c&&(f="video/mp4");c="record-audio-and-video";b&&(c=b);"record-video"===c&&(b={type:"video",mimeType:null,disableLogs:!1,canvas:{width:320,height:240},frameInterval:20},this.recordRTC=RecordRTC(a,b),this.recordRTC.startRecording());"record-audio"===c&&(b={type:"audio",mimeType:f,bufferSize:0,sampleRate:44100,leftChannel:!1,disableLogs:!1,recorderType:StereoAudioRecorder},this.recordRTC=RecordRTC(a,b),this.recordRTC.startRecording());
if("record-audio-and-video"===c)if("undefined"===typeof MediaRecorder){this.recordRTC=[];var d=RecordRTC(a,{type:"audio",bufferSize:16384,sampleRate:44100,leftChannel:!1,disableLogs:!1,recorderType:StereoAudioRecorder}),e=RecordRTC(a,{type:"video",disableLogs:!1,canvas:{width:320,height:240},frameInterval:20});e.initRecorder(function(){d.initRecorder(function(){d.startRecording();e.startRecording()})});this.recordRTC.push(d,e)}else b={type:"video",mimeType:null,disableLogs:!1,getNativeBlob:!0},this.recordRTC=
RecordRTC(a,b),this.recordRTC.startRecording()};ElasTestRemoteControl.prototype.stopRecording=function(){this.recordRTC?this.recordRTC.length?this.recordRTC[0].stopRecording(function(a){this.recordRTC[1]?this.recordRTC[1].stopRecording(function(a){console.info("[1] Recorded track: "+a)}):console.info("[0] Recorded track: "+a)}):this.recordRTC.stopRecording(function(a){console.info("Recorded track: "+a)}):console.warn("No recording found.")};
ElasTestRemoteControl.prototype.saveRecordingToDisk=function(a){this.recordRTC?(a=this.recordRTC.save(a),console.info(a)):console.warn("No recording found.")};ElasTestRemoteControl.prototype.openRecordingInNewTab=function(){this.recordRTC?window.open(this.recordRTC.toURL()):console.warn("No recording found.")};
ElasTestRemoteControl.prototype.recordingToData=function(){var a=this;if(a.recordRTC){var b=a.recordRTC.getBlob(),c=new window.FileReader;c.readAsDataURL(b);c.onloadend=function(){a.recordingData=c.result}}else console.warn("No recording found.")};var peerConnections=[],origPeerConnection=window.RTCPeerConnection;window.RTCPeerConnection=function(a,b){a.sdpSemantics="unified-plan";a=new origPeerConnection(a,b);peerConnections.push(a);return a};window.RTCPeerConnection.prototype=origPeerConnection.prototype;
var elasTestRemoteControl=new ElasTestRemoteControl;